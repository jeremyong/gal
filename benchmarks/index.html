



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="GAL - A fast C++17 geometric algebra library">
      
      
        <link rel="canonical" href="https://jeremyong.com/gal/benchmarks/">
      
      
        <meta name="author" content="Jeremy Ong">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../images/blur_on.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.4.3">
    
    
      
        <title>Benchmarks - GAL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/application.30686662.css">
      
        <link rel="stylesheet" href="../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#7e57c2">
      
    
    
      <script src="../assets/javascripts/modernizr.74668098.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../css/main.css">
    
    
      
        
<script>
  window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-10576233-1", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })
</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="deep-purple" data-md-color-accent="purple">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#benchmarks" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://jeremyong.com/gal" title="GAL" class="md-header-nav__button md-logo">
          
            <i class="md-icon">blur_on</i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              GAL
            </span>
            <span class="md-header-nav__topic">
              
                Benchmarks
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  

<a href="https://github.com/jeremyong/gal" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jeremyong/gal
  </div>
</a>
          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://jeremyong.com/gal" title="GAL" class="md-nav__button md-logo">
      
        <i class="md-icon">blur_on</i>
      
    </a>
    GAL
  </label>
  
    <div class="md-nav__source">
      


  

<a href="https://github.com/jeremyong/gal" title="Go to repository" class="md-source" data-md-source="github">
  
    <div class="md-source__icon">
      <svg viewBox="0 0 24 24" width="24" height="24">
        <use xlink:href="#__github" width="24" height="24"></use>
      </svg>
    </div>
  
  <div class="md-source__repository">
    jeremyong/gal
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href=".." title="Home" class="md-nav__link">
      Home
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../quick-start/" title="Quick Start" class="md-nav__link">
      Quick Start
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../optimizations/" title="Optimizations" class="md-nav__link">
      Optimizations
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        Benchmarks
      </label>
    
    <a href="./" title="Benchmarks" class="md-nav__link md-nav__link--active">
      Benchmarks
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#runtime" class="md-nav__link">
    Runtime
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilation-time" class="md-nav__link">
    Compilation time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-size" class="md-nav__link">
    File size
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-for-reproducing-the-benchmark" class="md-nav__link">
    Notes for reproducing the benchmark
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roadmap" class="md-nav__link">
    Roadmap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-to-other-library-authors" class="md-nav__link">
    Note to other library authors
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
    
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../coding-conventions/" title="Coding Conventions" class="md-nav__link">
      Coding Conventions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../about/" title="About" class="md-nav__link">
      About
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#runtime" class="md-nav__link">
    Runtime
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#compilation-time" class="md-nav__link">
    Compilation time
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#file-size" class="md-nav__link">
    File size
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#notes-for-reproducing-the-benchmark" class="md-nav__link">
    Notes for reproducing the benchmark
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#roadmap" class="md-nav__link">
    Roadmap
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#note-to-other-library-authors" class="md-nav__link">
    Note to other library authors
  </a>
  
</li>
      
      
      
      
      
        <li class="md-nav__item">
          <a href="#__comments" class="md-nav__link md-nav__link--active">
            Comments
          </a>
        </li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="benchmarks">Benchmarks</h1>
<div class="admonition danger">
<p class="admonition-title">Obligatory disclaimer</p>
<p>The author isn't honestly a believer in benchmarks as a proxy for how fast <em>your</em> code will run. Use these timings only as a heuristic on which to base your judgement and please, please, benchmark your own code. If you find something isn't fast, please file an issue! Thanks :)</p>
</div>
<p>These results were produced on October 28, 2019 for the 3D <abbr title="Conformal Geometric Algebra">CGA</abbr> inverse kinematics benchmark provided by <a href="https://github.com/ga-developers/ga-benchmark/blob/master/AlgorithmInverseKinematics.cpp">gabenchmark</a> (all benchmarks compiled with <code>-O2 -mfma</code> using <abbr title="GNU C Compiler">GCC</abbr> 10). Prior to each benchmark, CPU scaling was turned off for consistent results.</p>
<p>For possible explanations to explain both the compile-time and runtime behavior of GAL, please refer to the <a href="../optimizations/">optimizations</a> section of this page.</p>
<h2 id="runtime">Runtime</h2>
<table>
<thead>
<tr>
<th>Library</th>
<th>Commit Hash</th>
<th>Time</th>
<th>Iterations</th>
<th>Iterations/ns (higher is better)</th>
<th>Speedup (higher is better)</th>
</tr>
</thead>
<tbody>
<tr>
<td><a href="https://github.com/wolftype/versor">Versor</a></td>
<td><a href="https://github.com/wolftype/versor/commit/2c5b455187a162bd429a3acf6ffd2f06fb4732ab">2c5b455</a></td>
<td>1138 ns</td>
<td>608337</td>
<td>535/ns</td>
<td>1x</td>
</tr>
<tr>
<td><a href="https://github.com/laffernandes/gatl"><abbr title="Geometric Algebra Template Library">GATL</abbr></a></td>
<td><a href="https://github.com/laffernandes/gatl/commit/c47ad5d13c18f0116797d1ea614557cca5e99bb3">c47ad5</a></td>
<td>469 ns</td>
<td>1505207</td>
<td>3209/ns</td>
<td>5.998x</td>
</tr>
<tr>
<td><a href="https://github.com/jeremyong/gal">GAL</a></td>
<td><a href="https://github.com/jeremyong/gal/commit/e3f49ae28680a89d328b2d37320fe61773c41b56">e3f49ae</a></td>
<td>376 ns</td>
<td>1873236</td>
<td><strong>4982/ns</strong></td>
<td><strong>9.312x</strong></td>
</tr>
</tbody>
</table>
<p>This was tested on an Intel i9-9900K. The variable runtime is due to the way <a href="https://github.com/google/benchmark">google/benchmark</a> works. It will keep running new iterations until the statistical significance of the measurement increases above a predetermined amount. The important metric is the rate in the fourth column. The speedup factor in the final column is computed as the ratio to the throughput of Versor (first row).</p>
<h2 id="compilation-time">Compilation time</h2>
<p>The compilation times for the same example are shown below:</p>
<table>
<thead>
<tr>
<th>Compiler</th>
<th>Library</th>
<th>Compile Time (lower is better)</th>
</tr>
</thead>
<tbody>
<tr>
<td>g++ (<abbr title="GNU C Compiler">GCC</abbr>) 10.0.0 20191012 (experimental)</td>
<td>Versor</td>
<td><strong>5.50 s</strong></td>
</tr>
<tr>
<td>g++ (<abbr title="GNU C Compiler">GCC</abbr>) 10.0.0 20191012 (experimental)</td>
<td><abbr title="Geometric Algebra Template Library">GATL</abbr></td>
<td>20.38 s</td>
</tr>
<tr>
<td>g++ (<abbr title="GNU C Compiler">GCC</abbr>) 10.0.0 20191012 (experimental)</td>
<td>GAL</td>
<td>12.30 s</td>
</tr>
<tr>
<td>clang++ 9.0.0</td>
<td>Versor</td>
<td><strong>3.47 s</strong></td>
</tr>
<tr>
<td>clang++ 9.0.0</td>
<td><abbr title="Geometric Algebra Template Library">GATL</abbr></td>
<td><em>could not compile</em><sup id="fnref:1"><a class="footnote-ref" href="#fn:1">1</a></sup></td>
</tr>
<tr>
<td>clang++ 9.0.0</td>
<td>GAL</td>
<td>7.19 s</td>
</tr>
</tbody>
</table>
<p>As with the benchmark, CPU scaling was turned off for the test and all compilations were run from a clean build folder. As you can see, GAL doesn't compile the fastest, but does enjoy an edge over <abbr title="Geometric Algebra Template Library">GATL</abbr> due to the availability of <code>constexpr</code> at the time of authorship to avoid slow-to-compile techniques like <abbr title="Substitution Failure is Not an Error">SFINAE</abbr> (<code>std::enable_if</code>).<sup id="fnref:2"><a class="footnote-ref" href="#fn:2">2</a></sup> Improving compilation time (or at the very least) not regressing is a constant goal for GAL.</p>
<h2 id="file-size">File size</h2>
<p>The file size of the compiled test can be a useful indicator of future bloat if used in your library or application. Obviously, you will need to measure this in your own code since the final size may not scale in any predictable way.</p>
<p>The sizes of various segments (<code>.strtab</code>, <code>.text</code>, and <code>.symtab</code>) are included as an indication of what bloat may be attributed to. Smaller sections are omitted for brevity. Also, note that the raw sizes are obviously more important than the percentages. Statistics were taken by using the <a href="https://github.com/google/bloaty">google/bloaty</a> <abbr title="Executable and Linker Format">ELF</abbr> parser.</p>
<div class="admonition info">
<p>The file sizes below include the benchmarking code, so your file savings may be even more dramatic (but no guarantees can be made).</p>
</div>
<table>
<thead>
<tr>
<th>Library</th>
<th>File size (lower is better)</th>
<th><code>.strtab</code></th>
<th><code>.text</code></th>
<th><code>.symtab</code></th>
</tr>
</thead>
<tbody>
<tr>
<td>Versor</td>
<td>282.7 kB</td>
<td>92.2 kB (32.6%)</td>
<td>157 kB (55.8%)</td>
<td>7.88 kB (2.8%)</td>
</tr>
<tr>
<td><abbr title="Geometric Algebra Template Library">GATL</abbr></td>
<td>72.2 kB</td>
<td>42.2 kB (58.5%)</td>
<td>12.9 kB (17.8%)</td>
<td>3.52 kB (4.9%)</td>
</tr>
<tr>
<td>GAL</td>
<td><strong>26.5 kB</strong></td>
<td><strong>1.85 kB</strong> (7.0%)</td>
<td><strong>9.9 kB</strong> (37.4%)</td>
<td><strong>2.18 kB</strong> (8.2%)</td>
</tr>
</tbody>
</table>
<p>GAL tries very hard not to include headers unnecessarily which has an impact both on compile times and executable bloat.</p>
<p>For reference, the <code>.strtab</code> segment refers to the string table (stores null-terminated strings). The <code>.text</code> segment refers to the code segment, and the <code>.symtab</code> refers to the symbol table (needed to relocate symbols and references).</p>
<h2 id="notes-for-reproducing-the-benchmark">Notes for reproducing the benchmark</h2>
<ul>
<li>GAL provides a mechanism for specifying arbitrary multivectors as types with exact rational coefficients. This means that the conformal point located at <script type="math/tex">(1, 0, 0)</script>, represented by <script type="math/tex">\mathbf{o} + e_2 + \frac{1}{2}\boldsymbol\infty</script> can be represented exactly as opposed to the canonical point representation with <script type="math/tex">p_x = p_y = 0.0</script> being stored and computed with floating point zeros.</li>
<li>When this optimization was made, all results were completely accurate up till the final reference value for <code>Jg_f[4]</code> for which the published result should be <code>3.31122e6</code>. Instead, GAL computes <code>1.831977e6</code> for this entry. Reintroducing floating point zeros into the expression immediately recovers the reference result, indicating that this lone result is likely incorrect as stated.</li>
<li>A check of all 16 other reference results though matches identically (all of which are in more reasonable floating point ranges).</li>
<li>To compile the <abbr title="Geometric Algebra Template Library">GATL</abbr> implementation of the algorithm, two changes needed to be introduced due to a breaking change with more modern compilers in handling <code>std::enable_if_t</code>. The following snippet:</li>
</ul>
<div class="codehilite"><pre><span></span>    <span class="c1">// GATL lazy_context.hpp lines 652 (whitespace added here for readability on web)</span>
    <span class="k">template</span><span class="o">&lt;</span>
        <span class="k">typename</span> <span class="n">CoefficientType</span><span class="p">,</span>
        <span class="k">typename</span> <span class="n">Expression</span><span class="p">,</span>
        <span class="k">typename</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span><span class="n">super</span><span class="o">::</span><span class="n">stored_inputs_count</span><span class="p">()</span> <span class="o">!=</span> <span class="mi">0</span><span class="o">&gt;&gt;</span>
    <span class="k">constexpr</span> <span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span>
    <span class="n">eval</span><span class="p">(</span><span class="n">clifford_expression</span><span class="o">&lt;</span><span class="n">CoefficientType</span><span class="p">,</span> <span class="n">Expression</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span><span class="n">expression</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">detail</span><span class="o">::</span><span class="n">eval</span><span class="o">&lt;</span>
            <span class="n">base_id</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
            <span class="n">base_id</span> <span class="o">+</span> <span class="p">(</span><span class="n">detail</span><span class="o">::</span><span class="n">tag_t</span><span class="p">)</span><span class="n">super</span><span class="o">::</span><span class="n">stored_inputs_count</span><span class="p">()</span><span class="o">&gt;</span><span class="p">(</span>
                <span class="n">expression</span><span class="p">,</span> <span class="n">super</span><span class="o">::</span><span class="n">stored_inputs_tuple</span><span class="p">());</span>
    <span class="p">}</span>

    <span class="k">template</span><span class="o">&lt;</span>
        <span class="k">typename</span> <span class="n">CoefficientType</span><span class="p">,</span>
        <span class="k">typename</span> <span class="n">Expression</span><span class="p">,</span>
        <span class="k">typename</span> <span class="o">=</span> <span class="n">std</span><span class="o">::</span><span class="n">enable_if_t</span><span class="o">&lt;</span><span class="n">super</span><span class="o">::</span><span class="n">stored_inputs_count</span><span class="p">()</span> <span class="o">==</span> <span class="mi">0</span><span class="o">&gt;&gt;</span>
    <span class="k">constexpr</span> <span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span>
    <span class="n">eval</span><span class="p">(</span><span class="n">clifford_expression</span><span class="o">&lt;</span><span class="n">CoefficientType</span><span class="p">,</span> <span class="n">Expression</span><span class="o">&gt;</span> <span class="o">&amp;&amp;</span><span class="p">)</span> <span class="k">const</span> <span class="k">noexcept</span> <span class="p">{</span>
        <span class="k">return</span> <span class="n">clifford_expression</span><span class="o">&lt;</span><span class="n">CoefficientType</span><span class="p">,</span> <span class="n">Expression</span><span class="o">&gt;</span><span class="p">();</span>
    <span class="p">}</span>
</pre></div>


<p>was changed to:</p>
<div class="codehilite"><pre><span></span>    <span class="k">template</span><span class="o">&lt;</span><span class="k">typename</span> <span class="n">CoefficientType</span><span class="p">,</span> <span class="k">typename</span> <span class="n">Expression</span><span class="o">&gt;</span>
    <span class="k">constexpr</span> <span class="k">decltype</span><span class="p">(</span><span class="k">auto</span><span class="p">)</span>
    <span class="n">eval</span><span class="p">(</span><span class="n">clifford_expression</span><span class="o">&lt;</span><span class="n">CoefficientType</span><span class="p">,</span> <span class="n">Expression</span><span class="o">&gt;</span> <span class="k">const</span> <span class="o">&amp;</span><span class="n">expression</span><span class="p">)</span> <span class="k">const</span> <span class="p">{</span>
        <span class="k">if</span> <span class="k">constexpr</span> <span class="p">(</span><span class="n">super</span><span class="o">::</span><span class="n">stored_inputs_count</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">detail</span><span class="o">::</span><span class="n">eval</span><span class="o">&lt;</span>
                <span class="n">base_id</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span>
                <span class="n">base_id</span> <span class="o">+</span> <span class="p">(</span><span class="n">detail</span><span class="o">::</span><span class="n">tag_t</span><span class="p">)</span><span class="n">super</span><span class="o">::</span><span class="n">stored_inputs_count</span><span class="p">()</span><span class="o">&gt;</span><span class="p">(</span>
                    <span class="n">expression</span><span class="p">,</span> <span class="n">super</span><span class="o">::</span><span class="n">stored_inputs_tuple</span><span class="p">());</span>
        <span class="p">}</span>
        <span class="k">else</span>
        <span class="p">{</span>
            <span class="k">return</span> <span class="n">clifford_expression</span><span class="o">&lt;</span><span class="n">CoefficientType</span><span class="p">,</span> <span class="n">Expression</span><span class="o">&gt;</span><span class="p">();</span>
        <span class="p">}</span>
    <span class="p">}</span>
</pre></div>


<ul>
<li>As this was an entirely compile-time transformation, it is not believed that either the runtime nor compilation time would be effected much. It would likely improve compilation time if anything due to the removal of an extra template instantiation in certain situations.</li>
</ul>
<h2 id="roadmap">Roadmap</h2>
<p>Benchmarking is a fine-art, and while I do not believe they should be misused, they are still helpful for identifying future areas of improvement and, perhaps more importantly, detecting regression. Because of the heavy compile-time nature of the library, small perturbations in the code can (in specific sections), cause dramatic effects downstream. A primary concern of GAL is to quickly work on getting demos working so that timings can be collected for a variety of useful workloads.</p>
<hr />
<h2 id="note-to-other-library-authors">Note to other library authors</h2>
<p>Please note that nothing on this site is intended to disparage other implementers of GA. The world needs more of them! There are certainly disadvantages of GAL at this time, namely that it is a bit less ergonomic to use at this time, and it's less battle-tested than other libraries. GAL had the benefit of being developed with newer compilers which allowed newer techniques (although there was still difficulty to be sure). In any case, I feel obligated to state a profound appreciation for the implementers and practitioners that paved a way before me.</p>
<p>If I've neglected to include a library or if you think I have made any errors, please don't hesitate to contact me and I'll make sure things get sorted. If there are situations where you think your library or code might perform better, let me know as well. Thanks!</p>
<div class="footnote">
<hr />
<ol>
<li id="fn:1">
<p>Because of the newer clang compiler, <abbr title="Geometric Algebra Template Library">GATL</abbr> couldn't be compiled, possibly due to changes in the C++ standard or because older versions of clang were inadvertedly more permissive. Note that for g++, I opted to test all libraries against the current trunk version, as GAL uses various C++17 techniques handled better in GCC10 and improvements to the compiler generally benefit all libraries.&#160;<a class="footnote-backref" href="#fnref:1" title="Jump back to footnote 1 in the text">&#8617;</a></p>
</li>
<li id="fn:2">
<p><abbr title="Substitution Failure is Not an Error">SFINAE</abbr> refers to a C++ programming technique to restrict resolution of a particular overload to types that match a set of specified constraints. While powerful, <abbr title="Substitution Failure is Not an Error">SFINAE</abbr> is known to be one of the worst offenders in compile time cost.&#160;<a class="footnote-backref" href="#fnref:2" title="Jump back to footnote 2 in the text">&#8617;</a></p>
</li>
</ol>
</div>
                
                  
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>
    var disqus_config = function () {
      this.page.url = "https://jeremyong.com/gal/benchmarks/";
      this.page.identifier =
        "/benchmarks/";
    };
    (function() {
      var d = document, s = d.createElement("script");
      s.src = "//jeremyong.disqus.com/embed.js";
      s.setAttribute("data-timestamp", +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>

              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../optimizations/" title="Optimizations" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Optimizations
              </span>
            </div>
          </a>
        
        
          <a href="../coding-conventions/" title="Coding Conventions" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Coding Conventions
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2019 Jeremy Ong
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/jeremyong" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/m_ninepoints" class="md-footer-social__link fa fa-twitter"></a>
    
      <a href="https://www.linkedin.com/in/jeremycong" class="md-footer-social__link fa fa-linkedin"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../assets/javascripts/application.ac79c3b0.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:".."}})</script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.6/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
      
    
  </body>
</html>